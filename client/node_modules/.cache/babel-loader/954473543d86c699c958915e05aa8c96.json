{"ast":null,"code":"var _jsxFileName = \"C:\\\\MERN Projects\\\\BombParty\\\\bombparty\\\\client\\\\src\\\\components\\\\Chat\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { SocketContext, socket } from '../context/socket';\nimport './Chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Chat = props => {\n  _s();\n\n  const [value, setValue] = useState(\"\");\n  const [messageList, setMessage] = useState([]);\n  const currentDate = new Date();\n  const socket = useContext(SocketContext); // For the time now\n\n  Date.prototype.timeNow = function () {\n    return (this.getHours() < 10 ? \"0\" : \"\") + this.getHours() + \":\" + (this.getMinutes() < 10 ? \"0\" : \"\") + this.getMinutes() + \":\" + (this.getSeconds() < 10 ? \"0\" : \"\") + this.getSeconds();\n  };\n\n  useEffect(() => {\n    // on user connection to chat\n    socket.on('user_joined', data => {\n      console.log(currentDate.timeNow());\n      setMessage([...messageList, data]);\n    });\n  });\n  useEffect(() => {\n    // on message received\n    socket.on('message_received', data => {\n      console.log(data);\n    });\n  }, 0); // handles on change button\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  const onSubmitMessage = e => {\n    if (e.keyCode === 13 && e.shiftKey === false) {\n      e.preventDefault();\n      socket.emit('message', {\n        name: socket.id,\n        time: null\n      });\n      console.log(currentDate.timeNow());\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages\",\n      children: \" \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input\",\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"\\u05D4\\u05E7\\u05DC\\u05D3/\\u05D9 \\u05D4\\u05D5\\u05D3\\u05E2\\u05D4\",\n        \"data-placeholder-text\": \"typeHereToChat\",\n        maxLength: \"150\",\n        value: value,\n        onChange: handleChange,\n        onKeyDown: onSubmitMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Chat, \"/5ICxHxQrbPg3yMCxMIemIFey94=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["C:/MERN Projects/BombParty/bombparty/client/src/components/Chat/Chat.js"],"names":["React","useState","useContext","useEffect","SocketContext","socket","Chat","props","value","setValue","messageList","setMessage","currentDate","Date","prototype","timeNow","getHours","getMinutes","getSeconds","on","data","console","log","handleChange","e","target","onSubmitMessage","keyCode","shiftKey","preventDefault","emit","name","id","time"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,UAAzB,EAAoCC,SAApC,QAAqD,OAArD;AACA,SAASC,aAAT,EAAuBC,MAAvB,QAAqC,mBAArC;AACA,OAAO,YAAP;;;AACA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AAAA;;AACpB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACS,WAAD,EAAaC,UAAb,IAA2BV,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAMW,WAAW,GAAG,IAAIC,IAAJ,EAApB;AACA,QAAMR,MAAM,GAAGH,UAAU,CAACE,aAAD,CAAzB,CAJoB,CAKpB;;AACAS,EAAAA,IAAI,CAACC,SAAL,CAAeC,OAAf,GAAyB,YAAY;AACrC,WAAO,CAAE,KAAKC,QAAL,KAAkB,EAAnB,GAAuB,GAAvB,GAA2B,EAA5B,IAAkC,KAAKA,QAAL,EAAlC,GAAmD,GAAnD,IAA0D,KAAKC,UAAL,KAAoB,EAArB,GAAyB,GAAzB,GAA6B,EAAtF,IAA4F,KAAKA,UAAL,EAA5F,GAA+G,GAA/G,IAAsH,KAAKC,UAAL,KAAoB,EAArB,GAAyB,GAAzB,GAA6B,EAAlJ,IAAwJ,KAAKA,UAAL,EAA/J;AACC,GAFD;;AAIAf,EAAAA,SAAS,CAAC,MAAM;AAChB;AACIE,IAAAA,MAAM,CAACc,EAAP,CAAU,aAAV,EAAyBC,IAAD,IAAU;AAC9BC,MAAAA,OAAO,CAACC,GAAR,CAAYV,WAAW,CAACG,OAAZ,EAAZ;AACAJ,MAAAA,UAAU,CAAC,CAAC,GAAGD,WAAJ,EAAiBU,IAAjB,CAAD,CAAV;AACC,KAHL;AAIH,GANQ,CAAT;AAOAjB,EAAAA,SAAS,CAAC,MAAM;AAChB;AACAE,IAAAA,MAAM,CAACc,EAAP,CAAU,kBAAV,EAA6BC,IAAI,IAAI;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACH,KAFD;AAIC,GANQ,EAMP,CANO,CAAT,CAjBoB,CAwBpB;;AACA,QAAMG,YAAY,GAAIC,CAAD,IAAO;AACxBf,IAAAA,QAAQ,CAACe,CAAC,CAACC,MAAF,CAASjB,KAAV,CAAR;AACH,GAFD;;AAGA,QAAMkB,eAAe,GAAIF,CAAD,IAAO;AAC3B,QAAGA,CAAC,CAACG,OAAF,KAAc,EAAd,IAAoBH,CAAC,CAACI,QAAF,KAAe,KAAtC,EAA6C;AACzCJ,MAAAA,CAAC,CAACK,cAAF;AACAxB,MAAAA,MAAM,CAACyB,IAAP,CAAY,SAAZ,EAAsB;AAClBC,QAAAA,IAAI,EAAG1B,MAAM,CAAC2B,EADI;AAElBC,QAAAA,IAAI,EAAG;AAFW,OAAtB;AAIAZ,MAAAA,OAAO,CAACC,GAAR,CAAYV,WAAW,CAACG,OAAZ,EAAZ;AAED;AACN,GAVD;;AAWA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,6BACA;AAAU,QAAA,WAAW,EAAC,gEAAtB;AAAqC,iCAAsB,gBAA3D;AAA4E,QAAA,SAAS,EAAC,KAAtF;AAA4F,QAAA,KAAK,EAAEP,KAAnG;AAA0G,QAAA,QAAQ,EAAEe,YAApH;AAAkI,QAAA,SAAS,EAAEG;AAA7I;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CA/CD;;GAAMpB,I;;KAAAA,I;AAiDN,eAAeA,IAAf","sourcesContent":["import React, { useState,useContext,useEffect } from 'react';\r\nimport { SocketContext,socket } from '../context/socket';\r\nimport './Chat.css'\r\nconst Chat = (props) => {\r\n    const [value, setValue] = useState(\"\");\r\n    const [messageList,setMessage] = useState([])\r\n    const currentDate = new Date();\r\n    const socket = useContext(SocketContext);\r\n    // For the time now\r\n    Date.prototype.timeNow = function () {\r\n    return ((this.getHours() < 10)?\"0\":\"\") + this.getHours() +\":\"+ ((this.getMinutes() < 10)?\"0\":\"\") + this.getMinutes() +\":\"+ ((this.getSeconds() < 10)?\"0\":\"\") + this.getSeconds();\r\n    }\r\n\r\n    useEffect(() => {\r\n    // on user connection to chat\r\n        socket.on('user_joined',(data) => {\r\n            console.log(currentDate.timeNow());\r\n            setMessage([...messageList, data])\r\n            })    \r\n    })\r\n    useEffect(() => {\r\n    // on message received\r\n    socket.on('message_received',data => { \r\n        console.log(data);\r\n    })\r\n\r\n    },0)\r\n    // handles on change button\r\n    const handleChange = (e) => {\r\n        setValue(e.target.value);\r\n    }\r\n    const onSubmitMessage = (e) => {\r\n        if(e.keyCode === 13 && e.shiftKey === false) {\r\n            e.preventDefault();\r\n            socket.emit('message',{\r\n                name : socket.id,\r\n                time : null,\r\n            });\r\n            console.log(currentDate.timeNow());\r\n\r\n          }\r\n    }\r\n    return (\r\n        <div className=\"Chat\">\r\n            <div className=\"messages\"> </div>\r\n            <div className=\"input\">\r\n            <textarea placeholder=\"הקלד/י הודעה\" data-placeholder-text=\"typeHereToChat\" maxLength=\"150\" value={value} onChange={handleChange} onKeyDown={onSubmitMessage} ></textarea>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n"]},"metadata":{},"sourceType":"module"}